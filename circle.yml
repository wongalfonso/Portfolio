deployment: 
  prod:
    branch: master
    heroku: 
      appname: aw-portfolio-dev
  machine: 
    node: version 10.6.0

  deploy:
    docker:
      - image: circleci/node:10.6
    steps:
      - checkout
      - run:
          name: Deploy Master to Heroku
          command: |
            git push //heroku:$HEROKU_API_KEY@git.heroku.com/$HEROKU_APP_NAME.git master
workflows:
  version: 2
  build-deploy:
    jobs:
      - npm run build
      - deploy:
          requires:
            - npm run build
          filters:
            branches:
              only: master